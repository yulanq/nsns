@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model List<Core.ViewModels.CoachIncomeViewModel>
@{
    ViewData["Title"] = "Coach Income";
    decimal total = ViewBag.TotalIncome;
}

@* <h2>Coach Income</h2>

<table style="width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px;">
    <thead>
        <tr style="background-color: #1B7BAB; color: white;">
            <th>Session Date</th>
            <th>Course</th>
            <th>Child</th>
            <th>Hours</th>
            <th>Income for Session</th>
            <th>Total Income So Far</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.SessionDate.ToString("yyyy-MM-dd HH:mm")</td>
                <td>@item.CourseName</td>
                <td>@item.ChildName</td>
                <td>@item.SessionHours</td>
                <td>$@item.IncomeChange.ToString("F2")</td>
                <td>$@item.TotalIncomeSoFar.ToString("F2")</td>
            </tr>
        }
    </tbody>
</table>

<h4>Total Income: <strong>$@total.ToString("F2")</strong></h4> *@


<h2>Coach Income</h2>

<div style="margin: 20px 0; padding: 15px; border-radius: 5px; border: 1px solid #ddd; background-color: #fff;">
    <table style="width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px;">
        <thead>
            <tr style="background-color: #1B7BAB; color: white;">
                <th style="padding: 10px; border: 1px solid #ddd;">Session Date</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Course</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Child</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Hours</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Income for Session</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Total Income So Far</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Any())
            {
                foreach (var item in Model)
                {
                    <tr style="background-color: #f9f9f9;">
                        <td style="padding: 10px; border: 1px solid #ddd;">@item.SessionDate.ToString("yyyy-MM-dd HH:mm")</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">@item.CourseName</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">@item.ChildName</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">@item.SessionHours</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">$@item.IncomeChange.ToString("F2")</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">$@item.TotalIncomeSoFar.ToString("F2")</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="6" style="text-align: center; padding: 15px; background-color: #f8f9fa; font-weight: bold;">
                        No income records found.
                    </td>
                </tr>
            }

            @if (TempData["SuccessMessage"] != null)
            {
                <tr>
                    <td colspan="6">
                        <div class="alert alert-success">
                            @TempData["SuccessMessage"]
                        </div>
                    </td>
                </tr>
            }

            @if (TempData["ErrorMessage"] != null)
            {
                <tr>
                    <td colspan="6">
                        <div class="alert alert-danger">
                            @TempData["ErrorMessage"]
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<h5 style="margin-top: 20px;">Total Income: <strong>$@total.ToString("F2")</strong></h5>