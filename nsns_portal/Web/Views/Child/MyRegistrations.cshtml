


<script src="/js/registrations.js"></script>
@model Core.ViewModels.ManageRegisterationsViewModel


<h2>Registeration History</h2>


<!-- ✅ Table Showing Already Registered Courses -->
<div style="padding-top: 20px; padding-bottom: 20px">
<h5 style="color: 007bff">Registered Courses</h5>
</div>

<table style="border-collapse: collapse; width: 100%; text-align: left;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 8px; border: 1px solid #ddd;">Course Title</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Specialty</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Coach</th>
           @*  <th style="padding: 8px; border: 1px solid #ddd;">Scheduled Hours</th> *@
            <th style="padding: 8px; border: 1px solid #ddd;">Hourly Cost</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Status</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Actions</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.CourseEnrollments.Any())
        {

            foreach (var enrollment in Model.CourseEnrollments)

            {
                <tr>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Course.Title</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Course.Specialty.Title</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Course.Coach.Name</td>
                    @* <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.ScheduledHours</td> *@
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Course.HourlyCost</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Status</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">
                        <form method="post" action="/Child/UnregisterCourse">
                            <input type="hidden" name="enrollmentId" value="@enrollment.EnrollmentID" />
                            <input type="hidden" name="childId" value="@enrollment.ChildID" />
                            <button type="submit" style="background-color: #ff4d4d; color: white; padding: 5px 10px; border: none; cursor: pointer;">
                                Remove
                            </button>
                        </form>
                    </td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="6" style="text-align: center; padding: 10px;">No courses enrolled.</td>
            </tr>
        }

        
    </tbody>
</table>






<!-- ✅ Table Showing Already Enrolled Activities -->
<div style="padding-top: 20px; padding-bottom: 20px">
<h5 style="color: 007bff">Registered Activities</h5>
</div>

<table style="border-collapse: collapse; width: 100%; text-align: left;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 8px; border: 1px solid #ddd;">Activity Title</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Address</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Scheduled Date</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Cost</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Status</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Actions</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.ActivityEnrollments.Any())
        {
            foreach (var enrollment in Model.ActivityEnrollments)
            {
                <tr>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Activity.Title</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Activity.Address</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Activity.ScheduledAt?.ToString("yyyy-MM-dd")</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Activity.Cost</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">@enrollment.Status</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">
                        <form method="post" action="/Child/UnregisterActivity">
                            <input type="hidden" name="enrollmentId" value="@enrollment.EnrollmentID" />
                            <input type="hidden" name="childId" value="@enrollment.ChildID" />
                            <button type="submit" style="background-color: #ff4d4d; color: white; padding: 5px 10px; border: none; cursor: pointer;">
                                Remove
                            </button>
                        </form>
                    </td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="6" style="text-align: center; padding: 10px;">No activities enrolled.</td>
            </tr>
        }

      
    </tbody>
</table>

