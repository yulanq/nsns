@model Core.ViewModels.ManageParentsViewModel

<h2>Manage Parents for @Model.Child.Name</h2>

<table style="border-collapse: collapse; width: 100%; text-align: left;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 8px; border: 1px solid #ddd;">Name</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Email</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Relationship</th>
            <th style="padding: 8px; border: 1px solid #ddd;">Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var parentChild in Model.Parents)
        {
            <tr>
                <td style="padding: 8px; border: 1px solid #ddd;">@parentChild.Parent.Name</td>
                <td style="padding: 8px; border: 1px solid #ddd;">@parentChild.Parent.Email</td>
                <td style="padding: 8px; border: 1px solid #ddd;">@parentChild.Relationship</td>
                <td style="padding: 8px; border: 1px solid #ddd;">
                    <form method="post" action="/Child/RemoveParentFromChild">
                        <input type="hidden" name="parentChildId" value="@parentChild.ParentChildID" />
                        <input type="hidden" name="childId" value="@Model.Child.ChildID" />
                        <button type="submit" style="background-color: red; color: white; padding: 5px 10px; border: none; cursor: pointer;">Remove</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>

<h3>Add Parent</h3>
<form method="post" action="/Child/AddParentToChild">
    <input type="hidden" name="childId" value="@Model.Child.ChildID" />

    <label for="parentId">Select Parent:</label>
    <select name="parentId" style="margin-right: 10px;">
        @foreach (var parent in ViewBag.ParentList)
        {
            <option value="@parent.Value">@parent.Text</option>
        }
    </select>

    <input type="text" name="relationship" placeholder="Relationship (e.g. Father, Mother)" required style="margin-right: 10px;" />
    <button type="submit" style="background-color: #28a745; color: white; padding: 5px 10px; border: none; cursor: pointer;">Add Parent</button>
</form>

<a href="/Child/List" style="display: inline-block; margin-top: 20px; background-color: #ddd; color: black; text-decoration: none; padding: 5px 10px; border: 1px solid #ccc;">Back to List</a>